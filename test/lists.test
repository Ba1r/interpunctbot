reset
channel text #lists
defaultPermissions

startBot

myDefaultPerms

// no perms
watch
	send #lists: ip!lists add testlist https://pastebin.com/QAtE6Kv8
test
!! [
!! 	"MSG #lists: testbot: ip!lists add testlist https://pastebin.com/QAtE6Kv8",
!! 	"MSG #lists: botdev: @testbot, ❌ You need permisison to `Manage Server` to use this command"
!! ]

myPerm MANAGE_SERVER

// add a list
watch
	send #lists: ip!lists add testlist https://pastebin.com/QAtE6Kv8
test
!! [
!! 	"MSG #lists: testbot: ip!lists add testlist https://pastebin.com/QAtE6Kv8",
!! 	"MSG #lists: botdev: @testbot, ✅ Added list testlist with pastebin URL <https://pastebin.com/QAtE6Kv8>"
!! ]

// edit a list that doesn't exist
watch
	send #lists: ip!lists edit joke QAtE6Kv8
test
!! [
!! 	"MSG #lists: testbot: ip!lists edit joke QAtE6Kv8",
!! 	"MSG #lists: botdev: @testbot, ❌ List joke does not exist, add it with `lists add joke QAtE6Kv8`"
!! ]

// add a list with just pastebin id
watch
	send #lists: ip!lists add joke QAtE6Kv8
test
!! [
!! 	"MSG #lists: testbot: ip!lists add joke QAtE6Kv8",
!! 	"MSG #lists: botdev: @testbot, ✅ Added list joke with pastebin URL <https://pastebin.com/QAtE6Kv8>"
!! ]

// add a list that already exists
watch
	send #lists: ip!lists add joke C3RD35d9
test
!! [
!! 	"MSG #lists: testbot: ip!lists add joke C3RD35d9",
!! 	"MSG #lists: botdev: @testbot, ❌ List joke already exists, edit it with `lists edit joke C3RD35d9` or delete it with `lists delete joke`"
!! ]

// edit a list
watch
	send #lists: ip!lists edit joke C3RD35d9
test
!! [
!! 	"MSG #lists: testbot: ip!lists edit joke C3RD35d9",
!! 	"MSG #lists: botdev: @testbot, ✅ Changed list joke to <https://pastebin.com/C3RD35d9>"
!! ]

watch
	send #lists: ip!testlist 3
test
!! [
!! 	"MSG #lists: testbot: ip!testlist 3",
!! 	"MSG #lists: botdev: @testbot,"
!! ]

watch
	send #lists: ip!joke 25
test
!! [
!! 	"MSG #lists: testbot: ip!joke 25",
!! 	"MSG #lists: botdev: @testbot,"
!! ]

watch
	send #lists: ip!lists list
test
!! [
!! 	"MSG #lists: testbot: ip!lists list",
!! 	"MSG #lists: botdev: @testbot,  ```testlist: https://pastebin.com/QAtE6Kv8\njoke: https://pastebin.com/C3RD35d9```"
!! ]